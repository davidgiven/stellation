package server;

class AbstractHandler {

//fun withServer(dbfile: String, callback: () -> Unit) {
//    val database by injection<IDatabase>()
//    val datastore by injection<IDatastore>()
//    val timers by injection<Timers>()
//    database.openDatabase(dbfile)
//    val model by injection<Model>()
//    val auth by injection<IAuthenticator>()
//
//    database.withSqlTransaction {
//        datastore.initialiseDatabase()
//        model.initialiseProperties()
//        auth.initialiseDatabase()
//        timers.initialiseDatabase()
//    }
//
//    try {
//        callback()
//    } finally {
//        database.closeDatabase()
//    }
//}
//
}

